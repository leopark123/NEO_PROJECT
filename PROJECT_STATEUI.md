# NEO UI é¡¹ç›®çŠ¶æ€ (PROJECT_STATEUI)

> **æœ€åæ›´æ–°**: 2026-02-07
> **å½“å‰é˜¶æ®µ**: Phase 4 ğŸŸ¡ éƒ¨åˆ†å®Œæˆ (DialogServiceå·²å®ç°)
> **æ€»è¿›åº¦**: Phase 1 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% | Phase 2 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% | Phase 3 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% | Phase 4 â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 14% | Phase 5~7 â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 0%

---

## âš ï¸ é‡è¦å£°æ˜

**æœ¬æ–‡ä»¶æ˜¯å”¯ä¸€çš„è¿›åº¦é”šç‚¹ã€‚**

- æ‰€æœ‰è¿›åº¦ã€å®ŒæˆçŠ¶æ€åªåœ¨æœ¬æ–‡ä»¶è®°å½•
- ç¦æ­¢åˆ›å»º `PROJECT_STATE.md` æˆ–ä»»ä½•å˜ä½“
- Agent æ¯å®Œæˆä¸€é¡¹ä»»åŠ¡å¿…é¡»æ›´æ–°æœ¬æ–‡ä»¶
- è‹¥ä¸ `docs/release/*` æˆ– `status/PROGRESS.md` å†²çªï¼Œä»¥æœ¬æ–‡ä»¶ã€Œé˜¶æ®µæ€»è§ˆ / å½“å‰ä»»åŠ¡ã€ä¸ºå‡†
- æ–‡æœ« `Execution Track` ä¸ºå†å²æ‰§è¡Œæ—¥å¿—ï¼Œä¸ä½œä¸ºé˜¶æ®µçŠ¶æ€ç»Ÿè®¡æ¥æº

---

## ä¸€ã€é˜¶æ®µæ€»è§ˆ

| Phase | åç§° | Sprint æ•° | çŠ¶æ€ |
|-------|------|-----------|------|
| **Phase 1** | é¡¹ç›®æ¡†æ¶æ­å»º | 4 (1.1~1.4) | âœ… **å®Œæˆ** |
| **Phase 2** | ä¸»çª—å£äº¤äº’æ¡†æ¶ | 5 (2.1~2.5) | âœ… **å®Œæˆ** |
| **Phase 3** | æ³¢å½¢æ¸²æŸ“é›†æˆ | 6 (3.1~3.6) | âœ… **å®Œæˆ** |
| **Phase 4** | å¯¹è¯æ¡†ç³»ç»Ÿ | 7 (4.1~4.7) | ğŸŸ¡ **éƒ¨åˆ†å®Œæˆ** (1/7) |
| **Phase 5** | é«˜çº§åŠŸèƒ½ | 5 (5.1~5.5) | âšª æœªå¼€å§‹ |
| **Phase 6** | NIRS + è§†é¢‘ + è´¨é‡ | 3 (6.1~6.3) | âšª æœªå¼€å§‹ |
| **Phase 7** | æµ‹è¯•ä¸ä¼˜åŒ– | 4 (7.1~7.4) | âšª æœªå¼€å§‹ |
| **åˆè®¡** | | **34 Sprints** | |

---

## äºŒã€å½“å‰ä»»åŠ¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Œ å½“å‰: Phase 3 âœ… å®Œæˆ                                       â”‚
â”‚  ä¸‹ä¸€æ­¥: Phase 4 å¯¹è¯æ¡†ç³»ç»Ÿ (Sprint 4.1~4.7)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸‰ã€Phase 1 â€” é¡¹ç›®æ¡†æ¶æ­å»º âœ… å®Œæˆ

### Sprint 1.1: é¡¹ç›®åˆ›å»º âœ…

| ä»»åŠ¡ | çŠ¶æ€ |
|------|------|
| åˆ›å»º Neo.UI WPF é¡¹ç›® (net9.0-windows, UseWPF) | âœ… |
| App.xaml / App.xaml.cs | âœ… |
| MainWindow.xaml å…¨åŒºåŸŸå ä½ (UI_SPEC Â§4) | âœ… |
| æ·»åŠ  NuGet: CommunityToolkit.Mvvm 8.2.2 | âœ… |
| æ·»åŠ é¡¹ç›®å¼•ç”¨: Neo.Core | âœ… |
| dotnet build / dotnet run éªŒè¯ | âœ… |

### Sprint 1.2: MVVM åŸºç¡€è®¾æ–½ âœ…

| ä»»åŠ¡ | çŠ¶æ€ |
|------|------|
| ViewModelBase (ObservableObject) | âœ… |
| MainWindowViewModel (RelayCommandÃ—7, æœåŠ¡æ³¨å…¥) | âœ… |
| HomeViewModel | âœ… |
| NavigationService + RouteRegistry + INavigable | âœ… |
| DialogService (åŸºç¡€å®ç°, Phase 4.7 å®Œæˆ) | âœ… |
| AuditServiceAdapter (å†…å­˜ sink, 10K bounded) | âœ… |
| ServiceRegistry (DI å¼•å¯¼) | âœ… |
| ContentControl å¯¼èˆªç»‘å®š + å®¡è®¡è°ƒç”¨ç‚¹ | âœ… |
| UI æµ‹è¯•å·¥ç¨‹: 21 tests pass | âœ… |

### Sprint 1.3: æ ·å¼ç³»ç»Ÿ âœ…

| ä»»åŠ¡ | çŠ¶æ€ |
|------|------|
| Colors.xaml (26è‰² + Color.Shadow + 38ç¬”åˆ·) | âœ… |
| Fonts.xaml (2å­—ä½“æ—, 10å°ºå¯¸, 6é¢„è®¾) | âœ… |
| Dimensions.xaml (å¸ƒå±€å¸¸é‡ + CornerRadius/Thickness/Double) | âœ… |
| Buttons.xaml (Primary/Secondary/Nav/Toolbar) | âœ… |
| TextBoxes.xaml (TextBox + PasswordBox) | âœ… |
| ComboBoxes.xaml (ComboBox + ComboBoxItem) | âœ… |
| Toggles.xaml (CheckBox-based toggle 50Ã—26) | âœ… |
| Controls.xaml (DefaultButton/ChannelToggle/ParamComboBox/Separator) | âœ… |
| QualityStates.xaml (Missing/Saturated/LeadOff) | âœ… |
| App.xaml MergedDictionaries 9æ–‡ä»¶ | âœ… |
| é›¶ç¡¬ç¼–ç éªŒè¯ (hex/FontSize/Padding/Margin/CornerRadius) | âœ… |

### Sprint 1.4: D3DImage æ¸²æŸ“éªŒè¯ âœ…

| ä»»åŠ¡ | çŠ¶æ€ |
|------|------|
| D3DImageRenderer.cs (D3D11+D2D+D3D9Ex+D3DImage) | âœ… |
| BeginRender / EndRender ç”Ÿå‘½å‘¨æœŸ | âœ… |
| Resize å®‰å…¨é‡å»º | âœ… |
| Dispose å¤šæ¬¡è°ƒç”¨å®‰å…¨ | âœ… |
| TryRecoverDevice (DeviceLost) | âœ… |
| DrawTestRect (é¢œè‰²æ¥è‡ª Colors.xaml) | âœ… |
| CompositionTarget.Rendering 60fps | âœ… |
| docs/ui/Sprint1.4_RenderValidation.md | âœ… |
| æ„å»º 0 errors 0 warnings, 21/21 tests | âœ… |

---

## å››ã€Phase 2 â€” ä¸»çª—å£äº¤äº’æ¡†æ¶ âœ… å®Œæˆ

> **ç›®æ ‡**: å°† MainWindow.xaml ä¸­çš„å„åŒºåŸŸæå–ä¸ºç‹¬ç«‹ UserControlï¼Œå®ç°å·¥å…·æ /å¯¼èˆª/çŠ¶æ€æ /å‚æ•°é¢æ¿çš„äº¤äº’é€»è¾‘ã€‚

### Sprint 2.1: ToolbarPanel å·¥å…·æ  âœ…

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| åˆ›å»º Views/Controls/ToolbarPanel.xaml | âœ… | ä» MainWindow æå–å·¥å…·æ åŒºåŸŸ |
| Logo + åº”ç”¨æ ‡é¢˜æ˜¾ç¤º | âœ… | å·¦ä¾§å“ç‰ŒåŒº |
| æ’­æ”¾/æš‚åœæŒ‰é’® (ç»‘å®š PlaybackCommand) | âœ… | UI_SPEC Â§6.3 |
| æˆªå›¾æŒ‰é’® (ç»‘å®š ScreenshotCommand) | âœ… | UI_SPEC Â§6.5 |
| æ ‡æ³¨æŒ‰é’® (ç»‘å®š AnnotationCommand) | âœ… | UI_SPEC Â§6.4 |
| å½“å‰æ—¶é—´æ˜¾ç¤º (1ç§’åˆ·æ–°) | âœ… | UI_SPEC Â§8, DispatcherTimer |
| å½“å‰ç”¨æˆ· + åºŠä½å·æ˜¾ç¤º | âœ… | UI_SPEC Â§4.1, å ä½ç»‘å®š |
| å®¡è®¡: æ¯ä¸ªæŒ‰é’®æ“ä½œè®°å½• | âœ… | UI_SPEC Â§10, MONITORING_START/STOP, SCREENSHOT, ANNOTATION |
| å•å…ƒæµ‹è¯• | âœ… | 8 tests: ToolbarViewModelTests (29 total pass) |

### Sprint 2.2: NavPanel å¯¼èˆªé¢æ¿ âœ…

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| åˆ›å»º Views/Controls/NavPanel.xaml | âœ… | ä» MainWindow æå–å·¦ä¾§å¯¼èˆªåŒºåŸŸ |
| 7ä¸ªå¯¼èˆªæŒ‰é’®: é¦–é¡µ/å†å²/æ˜¾ç¤º/æ»¤æ³¢/ç”¨æˆ·/å¯¼å‡º/å…³æœº | âœ… | UI_SPEC Â§4.1, æ‰€æœ‰æŒ‰é’®+å›¾æ ‡+æ–‡æœ¬ |
| å¯¼èˆªå®½åº¦ 60px | âœ… | Dim.NavigationWidth=60 (src/UI/Styles/Dimensions.xaml:12, UI_SPEC Â§4.2) |
| é€‰ä¸­çŠ¶æ€é«˜äº® (ActiveRoute ç»‘å®š) | âœ… | å…¨éƒ¨ 7 æŒ‰é’® DataTrigger on ActiveRoute â†’ PrimaryBrush/ErrorBrush |
| Command ç»‘å®š NavigationService | âœ… | å¤ç”¨ Sprint 1.2: NavigateCommand, ShowXxxDialogCommand, RequestShutdownCommand |
| å®¡è®¡: NAVIGATION äº‹ä»¶ | âœ… | Â§10 æ—  NAVIGATION ç±»å‹, å¯¼èˆªéå…³é”®æ“ä½œ, ä¸å®¡è®¡ (è§ AuditEvent.cs æ³¨é‡Š) |
| å•å…ƒæµ‹è¯• | âœ… | 11 tests: NavPanelTests (40 total pass) |

### Sprint 2.3: StatusBarPanel çŠ¶æ€æ  âœ…

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| åˆ›å»º Views/Controls/StatusBarPanel.xaml | âœ… | ä» MainWindow æå–åº•éƒ¨çŠ¶æ€æ  |
| åˆ›å»º ViewModels/StatusViewModel.cs | âœ… | FPS / å­˜å‚¨ / è®¾å¤‡çŠ¶æ€ / æ—¶é—´ |
| FPS æ˜¾ç¤º (1ç§’åˆ·æ–°) | âœ… | UI_SPEC Â§8: UpdateFps() æ–¹æ³• |
| å­˜å‚¨ç”¨é‡æ˜¾ç¤º (1ç§’åˆ·æ–°) | âœ… | UI_SPEC Â§8: UpdateStorage() æ–¹æ³• |
| è®¾å¤‡è¿æ¥çŠ¶æ€æŒ‡ç¤º (EEG/NIRS/Video) | âœ… | UI_SPEC Â§8: DataTrigger â— å·²è¿æ¥ â—‹ æœªè¿æ¥ |
| å½“å‰æ—¶é—´æ˜¾ç¤º (1ç§’åˆ·æ–°) | âœ… | UI_SPEC Â§8, å•è°ƒæ—¶é’Ÿ Â§2.2 |
| å•å…ƒæµ‹è¯• | âœ… | 10 tests: StatusViewModelTests (68 total pass) |

### Sprint 2.4: ChannelControlPanel å‚æ•°é¢æ¿ âœ…

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| åˆ›å»º Views/Controls/ChannelControlPanel.xaml | âœ… | ä» MainWindow æå–å³ä¾§å‚æ•°åŒºåŸŸ |
| åˆ›å»º ViewModels/WaveformViewModel.cs | âœ… | å¢ç›Š/å¯¼è”/Yè½´/æ»¤æ³¢/æ‰«æ/aEEG çŠ¶æ€ç®¡ç† |
| å¯¼è”é€‰æ‹© | âœ… | UI_SPEC Â§5.1: CH1 C3-P3, CH2 C4-P4 ç»‘å®š |
| å¢ç›Šé€‰æ‹© | âœ… | UI_SPEC Â§6.1: GainOptions [10,20,50,70,100,200,1000] Î¼V/cm |
| Yè½´èŒƒå›´é€‰æ‹© | âœ… | UI_SPEC Â§5.1: YAxisOptions [25,50,100,200] Î¼V |
| aEEG æ—¶é—´çª—é€‰æ‹© | âœ… | UI_SPEC Â§5.2: AeegTimeWindowOptions [1,3,6,12,24] h |
| å®¡è®¡: GAIN_CHANGE / FILTER_CHANGE | âœ… | UI_SPEC Â§10, partial OnChanged å›è°ƒ |
| å•å…ƒæµ‹è¯• | âœ… | 18 tests: WaveformViewModelTests (68 total pass) |

### Sprint 2.5: MainWindow é‡æ„ + é›†æˆ âœ…

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| MainWindow.xaml ç”¨ UserControl æ›¿æ¢å†…è”åŒºåŸŸ | âœ… | ToolbarPanel + NavPanel + StatusBarPanel + ChannelControlPanel |
| DataContext ç»‘å®šå„ ViewModel | âœ… | Toolbar/Status/Waveform æ³¨å…¥, Nav ç»§æ‰¿ |
| ç§»é™¤ Sprint 1.4 æµ‹è¯•æ¸²æŸ“ä»£ç  | âœ… | RenderTestImage, OnRenderFrame, D3DImageRenderer å¼•ç”¨å·²ç§»é™¤ |
| çª—å£å¯åŠ¨/å…³é—­ç”Ÿå‘½å‘¨æœŸ | âœ… | ç®€åŒ–ä¸º InitializeComponent() |
| æ„å»º 0 errors 0 warnings | âœ… | |
| å…¨é‡æµ‹è¯•é€šè¿‡ | âœ… | 68/68 tests pass |

---

## äº”ã€Phase 3 â€” æ³¢å½¢æ¸²æŸ“é›†æˆ âœ… å®Œæˆ

> **ç›®æ ‡**: å°†åç«¯ Rendering å¼•æ“ (src/Rendering) é€šè¿‡ D3D11+D2D æ¥å…¥ WPFï¼Œå®ç° EEG/aEEG æ³¢å½¢å®æ—¶æ˜¾ç¤ºã€‚
> **æ–°å¢ä¾èµ–**: Neo.Rendering, Neo.DSP, Neo.Playback, Neo.Mock é¡¹ç›®å¼•ç”¨
> **æ¸²æŸ“ç®¡çº¿**: D3D11 â†’ D2D1DeviceContext â†’ Staging Texture â†’ WriteableBitmap â†’ WPF Image

### Sprint 3.1: WaveformPanel (D3DImage å®¿ä¸») âœ…

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| åˆ›å»º Views/Controls/WaveformPanel.xaml | âœ… | ä¸­å¤®æ³¢å½¢åŒº UserControl |
| D3DImageRenderer é›†æˆåˆ° WaveformPanel | âœ… | Image.Source = WriteableBitmap (D3D11â†’D2Dâ†’WPF) |
| 6 å­åŒºåŸŸå¸ƒå±€ (aEEGÃ—2 + EEGÃ—2 + NIRSè¶‹åŠ¿ + SeekBar) | âœ… | WaveformLayout.Create(), UI_SPEC Â§4.1 |
| CompositionTarget.Rendering å›è°ƒ | âœ… | 60fps æ¸²æŸ“å¾ªç¯ |
| Resize è‡ªé€‚åº” | âœ… | SizeChanged â†’ Renderer.Resize |
| Device Lost æ¢å¤ UI | âœ… | ErrorOverlay + ç‚¹å‡»é‡è¯• |
| æ„å»ºéªŒè¯ | âœ… | 0 errors 0 warnings, 103/103 tests pass |

### Sprint 3.2: WaveformRenderHost (æ¸²æŸ“æ¡¥æ¥) âœ…

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| åˆ›å»º Rendering/WaveformRenderHost.cs | âœ… | æ¡¥æ¥ D3DImageRenderer â†” Rendering å¼•æ“ |
| æ·»åŠ é¡¹ç›®å¼•ç”¨: Neo.Rendering | âœ… | Neo.UI.csproj |
| æ·»åŠ é¡¹ç›®å¼•ç”¨: Neo.DSP | âœ… | Neo.UI.csproj (åªè¯» LOD æŸ¥è¯¢) |
| æ·»åŠ é¡¹ç›®å¼•ç”¨: Neo.Playback | âœ… | Neo.UI.csproj |
| RenderContext åˆ›å»º (ä» D2D DeviceContext) | âœ… | å¤ç”¨ Rendering/Core/RenderContext |
| LayeredRenderer é›†æˆ (Grid/Content/Overlay) | âœ… | Grid/Content/Overlay 3 å±‚å¯ç”¨ |
| EegDataBridge æ‰«ææ¨¡å¼ | âœ… | å·¦åˆ°å³æ‰«æ, 15s å‘¨æœŸ, æ¸…é™¤å¸¦ |
| Mock æ•°æ®æºæ¥å…¥ (MockEegSource) | âœ… | éªŒè¯æ¸²æŸ“ç®¡çº¿ |

### Sprint 3.3: EEG æ³¢å½¢æ¸²æŸ“ âœ…

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| SweepModeRenderer æ›¿ä»£ EegPolylineRenderer | âœ… | æ‰«ææ¨¡å¼æ¸²æŸ“ (per-channel RenderChannel) |
| EegChannelView 2 é€šé“æ˜¾ç¤º | âœ… | UI_SPEC Â§5.1: CH1/CH2 é€šé“ |
| EEG æ³¢å½¢é¢œè‰²: EegColorPalette | âœ… | Dev Plan Â§3.4, 4 é€šé“é¢œè‰² |
| Y è½´çº¿æ€§æ˜ å°„ (Â±100Î¼V é»˜è®¤) | âœ… | YAxisRangeUv å±æ€§, WaveformPanel æ¡¥æ¥ç»‘å®š |
| X è½´ 15 ç§’æ—¶é—´çª— | âœ… | UI_SPEC Â§5.1 |
| å¢ç›Šåˆ‡æ¢å³æ—¶ç”Ÿæ•ˆ (< 100ms) | âœ… | SelectedGain â†’ GainMicrovoltsPerCm ç»‘å®š |
| é€šé“ç»„åˆåˆ‡æ¢ | âœ… | CycleLeadCombinationCommand, ChannelControlPanel æŒ‰é’® |
| EegGainScaler é›†æˆ | âœ… | SweepModeRenderer å‚æ•°åŒ– yAxisRangeUv |

### Sprint 3.4: aEEG è¶‹åŠ¿æ¸²æŸ“ âœ…

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| AeegTrendRenderer æ¥å…¥ | âœ… | src/Rendering/AEEG/ |
| AeegSeriesBuilder æ•°æ®æ„å»º | âœ… | Min/Max åŒ…ç»œå¸¦æ„å»º |
| åŠå¯¹æ•° Y è½´ (0-10Î¼V çº¿æ€§, 10-200Î¼V å¯¹æ•°) | âœ… | AeegSemiLogMapper |
| X è½´ 3h é»˜è®¤, æ”¯æŒ 1h/3h/6h/12h/24h | âœ… | AeegVisibleHours å±æ€§, WaveformPanel æ¡¥æ¥ç»‘å®š |
| AeegFill é¢œè‰² #00E676 40% | âœ… | AeegColorPalette.TrendFill æ”¹ä¸ºç»¿è‰² 40% |
| LOD é‡‘å­—å¡”æŸ¥è¯¢é›†æˆ | âœ… | æ·»åŠ  Neo.DSP å¼•ç”¨ |
| GS ç›´æ–¹å›¾æ¸²æŸ“ | âœ… | GsHistogramRenderer, 70%/30% è¶‹åŠ¿/ç›´æ–¹å›¾å¸ƒå±€ |
| AeegGridAndAxisRenderer é›†æˆ | âœ… | ç½‘æ ¼ + è½´æ ‡ç­¾ |

### Sprint 3.5: SeekBar æ—¶é—´è½´æ§ä»¶ âœ…

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| SeekBarRenderer (D2D æ¸²æŸ“) | âœ… | è½¨é“ + å¡«å…… + æ‰‹æŸ„ + æ—¶é—´æ ‡ç­¾ (æ›¿ä»£ SeekBar.xaml) |
| PlaybackClock é›†æˆ | âœ… | Neo.Playback åŒæ­¥æ—¶é’Ÿ |
| æ’­æ”¾/æš‚åœåˆ‡æ¢ | âœ… | Toolbar.IsPlaying â†’ PlaybackClock.Start/Pause ç»‘å®š |
| æ‹–åŠ¨ Seek | âš ï¸ | äº¤äº’å»¶åè‡³ Phase 5ï¼ˆå½“å‰ç¦ç”¨ï¼‰ |
| ç‚¹å‡»è·³è½¬ | âš ï¸ | äº¤äº’å»¶åè‡³ Phase 5ï¼ˆå½“å‰ç¦ç”¨ï¼‰ |
| å¤šæµåŒæ­¥ (EEG/aEEG/NIRS/Video, Â±100ms) | âœ… | INirsPlaybackSource æ¥å£ + MultiStreamCoordinator é›†æˆ |
| SeekBar æ»‘å— â‰¥20Ã—20px è§¦æ§ | âœ… | Dev Plan Â§7.1 |
| å®¡è®¡: SEEK äº‹ä»¶ | âš ï¸ | äº¤äº’å¯ç”¨åè¡¥é½ |

### Sprint 3.6: è´¨é‡æŒ‡ç¤ºæ¸²æŸ“ âœ…

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| åˆ›å»º Rendering/QualityIndicatorRenderer.cs | âœ… | D2D è´¨é‡è¦†ç›–å±‚ |
| æ•°æ®ç¼ºå¤±: ç°è‰²èƒŒæ™¯ (#9E9E9E 50%) | âœ… | UI_SPEC Â§7 |
| ä¿¡å·é¥±å’Œ: çº¢è‰²é«˜äº® (#F44336 50%) | âœ… | UI_SPEC Â§7 |
| å¯¼è”è„±è½: æ©™è‰²èƒŒæ™¯ (#FF9800 50%) | âœ… | UI_SPEC Â§7 |
| ç¦æ­¢æ’å€¼å¡«å…… | âœ… | UI_SPEC Â§7 è§„åˆ™ |
| QualityFlag æšä¸¾æ˜ å°„ | âœ… | Core/Enums/QualityFlag |
| EegDataBridge O(1) è´¨é‡æŸ¥è¯¢ | âœ… | GetQualitySummary() è¿è¡Œæ—¶è®¡æ•°å™¨ |

---

## å…­ã€Phase 4 â€” å¯¹è¯æ¡†ç³»ç»Ÿ ğŸŸ¡ éƒ¨åˆ†å®Œæˆ (1/7)

> **ç›®æ ‡**: å®ç°å…¨éƒ¨ 7 ä¸ªå¯¹è¯æ¡†ï¼Œå®Œæˆ DialogService å®é™…é€»è¾‘ã€‚
> **å¸ƒå±€è§„æ ¼**: NEO_UI_Development_Plan_WPF.md Â§6

### Sprint 4.1: LoginDialog ç™»å½•å¯¹è¯æ¡†

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| åˆ›å»º Views/Dialogs/LoginDialog.xaml | [ ] | 1000Ã—600px, å·¦å³ 50% å¸ƒå±€ |
| å·¦ä¾§å“ç‰ŒåŒº: æ¸å˜èƒŒæ™¯ + Logo + "NEO" + å‰¯æ ‡é¢˜ | [ ] | Dev Plan Â§6.1 |
| å³ä¾§ç™»å½•åŒº: ç”¨æˆ·å + å¯†ç  + ç™»å½•æŒ‰é’® | [ ] | Dev Plan Â§6.1 |
| è¾“å…¥éªŒè¯ (éç©º) | [ ] | |
| å®¡è®¡: USER_LOGIN | [ ] | UI_SPEC Â§10 |
| App å¯åŠ¨æ—¶å¼¹å‡º | [ ] | |

### Sprint 4.2: PatientDialog æ‚£è€…ä¿¡æ¯å¯¹è¯æ¡†

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| åˆ›å»º Views/Dialogs/PatientDialog.xaml | [ ] | 900Ã—700px, åŒåˆ—è¡¨å• |
| åˆ›å»º ViewModels/PatientViewModel.cs | [ ] | æ‚£è€…å­—æ®µç»‘å®š |
| æ ‡é¢˜æ è“è‰²èƒŒæ™¯ #2196F3 | [ ] | Dev Plan Â§6.2 |
| å·¦åˆ—: åºŠä½å·/æ¯äº²èº«ä»½è¯/å§“å/æ€§åˆ«/APGAR | [ ] | Dev Plan Â§6.2 |
| å³åˆ—: åŒ»é™¢/ç§‘å®¤/ä½é™¢å·*/å‡ºç”Ÿæ—¥æœŸ+èƒé¾„/ä½“é‡+æ—¥é¾„ | [ ] | Dev Plan Â§6.2 |
| ç–¾ç—…å‹¾é€‰ GroupBox (5é¡¹ + å…¶ä»–) | [ ] | Dev Plan Â§6.2 |
| æ¯äº²å­•æœŸ GroupBox (6é¡¹ + å…¶ä»–) | [ ] | Dev Plan Â§6.2 |
| ä½é™¢å·å¿…å¡«éªŒè¯ | [ ] | UI_SPEC Â§9 |
| ç¡®å®š/å–æ¶ˆæŒ‰é’® | [ ] | |

### Sprint 4.3: FilterDialog æ»¤æ³¢è®¾ç½®å¯¹è¯æ¡†

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| åˆ›å»º Views/Dialogs/FilterDialog.xaml | [ ] | 400Ã—300px, å‚ç›´è¡¨å• |
| ä½é€šæ»¤æ³¢ ComboBox: 15/35/50/70 Hz | [ ] | UI_SPEC Â§6.2 |
| é«˜é€šæ»¤æ³¢ ComboBox: 0.3/0.5/1.5 Hz | [ ] | UI_SPEC Â§6.2 |
| é™·æ³¢å™¨ ComboBox: 50/60 Hz | [ ] | UI_SPEC Â§6.2 |
| ç¡®å®š/å–æ¶ˆæŒ‰é’® | [ ] | |
| å®¡è®¡: FILTER_CHANGE | [ ] | UI_SPEC Â§10 |
| UI åªå‘é€é…ç½®ï¼Œä¸å®ç°æ»¤æ³¢ | [ ] | UI_SPEC Â§6.2 è§„åˆ™ |

### Sprint 4.4: DisplayDialog æ˜¾ç¤ºè®¾ç½®å¯¹è¯æ¡†

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| åˆ›å»º Views/Dialogs/DisplayDialog.xaml | [ ] | 400Ã—350px |
| æ‰«æé€Ÿåº¦ ComboBox | [ ] | Dev Plan Â§6.4 |
| æ ‡å°ºæ˜¾ç¤º Toggle | [ ] | Dev Plan Â§6.4 |
| EEG ç½‘æ ¼æ˜¾ç¤º Toggle | [ ] | Dev Plan Â§6.4 |
| 10 åˆ†é’Ÿ aEEG ç½‘æ ¼ Toggle | [ ] | Dev Plan Â§6.4 |
| ç¡®å®š/å–æ¶ˆæŒ‰é’® | [ ] | |

### Sprint 4.5: UserManagementDialog ç”¨æˆ·ç®¡ç†å¯¹è¯æ¡†

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| åˆ›å»º Views/Dialogs/UserManagementDialog.xaml | [ ] | 800Ã—500px |
| å‰ç½®å¯†ç éªŒè¯ (è°ƒç”¨ PasswordDialog) | [ ] | UI_SPEC Â§9 |
| é¡¶éƒ¨: æ·»åŠ ç”¨æˆ·æŒ‰é’® | [ ] | Dev Plan Â§6.5 |
| ä¸­éƒ¨: DataGrid (å·¥å·/å§“å/ç”µè¯/é‚®ç®±/æ“ä½œ) | [ ] | Dev Plan Â§6.5 |
| æ“ä½œåˆ—: ç¼–è¾‘/åˆ é™¤æŒ‰é’® | [ ] | Dev Plan Â§6.5 |

### Sprint 4.6: HistoryDialog + PasswordDialog

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| åˆ›å»º Views/Dialogs/HistoryDialog.xaml | [ ] | 900Ã—600px |
| æŸ¥è¯¢åŒº: å§“åè¾“å…¥ + ä½é™¢å·è¾“å…¥ + æŸ¥è¯¢æŒ‰é’® | [ ] | Dev Plan Â§6.6 |
| ç»“æœ DataGrid: ä½é™¢å·/å§“å/å¼€å§‹æ—¶é—´/ç»“æŸæ—¶é—´ | [ ] | Dev Plan Â§6.6 |
| åº•éƒ¨: åŠ è½½æŒ‰é’® (åŠ è½½å›æ”¾) | [ ] | Dev Plan Â§6.6 |
| åˆ›å»º Views/Dialogs/PasswordDialog.xaml | [ ] | 400Ã—200px |
| å¯†ç è¾“å…¥ + ç¡®å®š/å–æ¶ˆ | [ ] | Dev Plan Â§6.7 |

### Sprint 4.7: DialogService å®Œæ•´å®ç° âœ…

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| DialogService å®Œæ•´å®ç° | âœ… | `Services/DialogService.cs` å·²å®ç° |
| 7ä¸ªå¯¹è¯æ¡†å·¥å‚æ³¨å†Œ | âœ… | Login, Patient, Filter, Display, UserManagement, History, Password |
| ShowDialog æ–¹æ³• | âœ… | ç»Ÿä¸€å¯¹è¯æ¡†æ‰“å¼€/è¿”å›æœºåˆ¶ |
| ShowMessage æ–¹æ³• | âœ… | MessageBox å°è£… |
| ShowConfirmation æ–¹æ³• | âœ… | ç¡®è®¤å¯¹è¯æ¡†å°è£… |
| å¯¹è¯æ¡† XAML éª¨æ¶ | ğŸŸ¡ | 7ä¸ªå¯¹è¯æ¡†å·²åˆ›å»ºåŸºç¡€ç»“æ„ï¼Œä½†å†…å®¹æœªå®Œæˆ |
| å•å…ƒæµ‹è¯• | âœ… | `tests/UI.Tests/DialogServiceTests.cs` |

**æ³¨**: Sprint 4.1-4.6 çš„å¯¹è¯æ¡† XAML æ–‡ä»¶å·²åˆ›å»ºï¼Œä½†åªæœ‰åŸºç¡€éª¨æ¶ï¼Œå…·ä½“è¡¨å•å†…å®¹ã€éªŒè¯é€»è¾‘ç­‰å¾…å®ç°ã€‚

---

## ä¸ƒã€Phase 5 â€” é«˜çº§åŠŸèƒ½ âšª æœªå¼€å§‹

> **ç›®æ ‡**: æˆªå›¾/æ‰“å°/å¯¼å‡º UI é›†æˆï¼Œæ ‡æ³¨åŠŸèƒ½ï¼Œé”®ç›˜å¿«æ·é”®ã€‚

### Sprint 5.1: æˆªå›¾åŠŸèƒ½ UI

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| å·¥å…·æ æˆªå›¾æŒ‰é’®ç»‘å®š | [ ] | ToolbarPanel â†’ ScreenshotCommand |
| æ³¢å½¢åŒº D2D æˆªå›¾åˆ° PNG | [ ] | å¤ç”¨ Host/Services/ScreenshotService é€»è¾‘ |
| æˆªå›¾ä¿å­˜è·¯å¾„é€‰æ‹©/è‡ªåŠ¨å‘½å | [ ] | |
| æˆªå›¾æˆåŠŸæç¤º (StatusBar æˆ– Toast) | [ ] | |
| å®¡è®¡: SCREENSHOT | [ ] | UI_SPEC Â§10 |

### Sprint 5.2: æ‰“å°åŠŸèƒ½ UI

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| æ‰“å°é¢„è§ˆçª—å£ | [ ] | å¤ç”¨ Host/Services/PrintService é€»è¾‘ |
| æ‰“å°èŒƒå›´é€‰æ‹© (å½“å‰è§†å›¾/æ—¶é—´èŒƒå›´) | [ ] | |
| æ‰“å°æŒ‰é’® | [ ] | |
| å®¡è®¡: PRINT | [ ] | |

### Sprint 5.3: USB å¯¼å‡ºåŠŸèƒ½ UI

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| å¯¼å‡ºå¯¹è¯æ¡† (é€‰æ‹©æ–‡ä»¶/ç›®æ ‡è·¯å¾„) | [ ] | å¤ç”¨ Host/Services/UsbExportService |
| USB è®¾å¤‡æ£€æµ‹æ˜¾ç¤º | [ ] | |
| å¯¼å‡ºè¿›åº¦æ¡ | [ ] | |
| å®¡è®¡: USB_EXPORT | [ ] | |

### Sprint 5.4: æ ‡æ³¨åŠŸèƒ½

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| æ ‡æ³¨æŒ‰é’®äº¤äº’ (å·¥å…·æ ) | [ ] | UI_SPEC Â§6.4 |
| æ ‡æ³¨è¾“å…¥å¼¹çª— (æ–‡æœ¬è¾“å…¥) | [ ] | |
| æ—¶é—´ç»‘å®š: å½“å‰æ’­æ”¾æ—¶é—´æˆ³ | [ ] | UI_SPEC Â§6.4 |
| æ ‡æ³¨åœ¨æ³¢å½¢åŒºå¯è§†åŒ–æ˜¾ç¤º | [ ] | Overlay å±‚æ ‡è®° |
| å®¡è®¡: ANNOTATION | [ ] | UI_SPEC Â§10 |

### Sprint 5.5: é”®ç›˜å¿«æ·é”®

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| Space: æ’­æ”¾/æš‚åœ | [ ] | |
| Ctrl+S: æˆªå›¾ | [ ] | |
| Ctrl+P: æ‰“å° | [ ] | |
| æ–¹å‘é”®: æ—¶é—´è½´å¾®è°ƒ | [ ] | |
| InputBinding ç»‘å®š | [ ] | XAML KeyBinding |

---

## å…«ã€Phase 6 â€” NIRS + è§†é¢‘ + è´¨é‡ âšª æœªå¼€å§‹

> **ç›®æ ‡**: NIRS 6 é€šé“é¢æ¿ã€è§†é¢‘é¢„è§ˆé¢æ¿ã€è´¨é‡æŒ‡ç¤º UI è¦†ç›–å±‚ã€‚
> **æ–°å¢ä¾èµ–**: Neo.Video, Neo.NIRS é¡¹ç›®å¼•ç”¨

### Sprint 6.1: NirsPanel (NIRS æ˜¾ç¤ºé¢æ¿)

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| åˆ›å»º Views/Controls/NirsPanel.xaml | [ ] | å³ä¾§ NIRS åŒºåŸŸ |
| åˆ›å»º ViewModels/NirsViewModel.cs | [ ] | 6 é€šé“çŠ¶æ€ç®¡ç† |
| æ·»åŠ é¡¹ç›®å¼•ç”¨: Neo.NIRS | [ ] | |
| 6 é€šé“ rSOâ‚‚ æ•°å€¼æ˜¾ç¤º ("XX%" / "--%" / "Fault" / "Blocked") | [ ] | UI_SPEC Â§5.3 |
| æ¯é€šé“ç‹¬ç«‹å¼€å…³ (Toggle) | [ ] | UI_SPEC Â§5.3 |
| å¼€å…³çŠ¶æ€æŒä¹…åŒ– | [ ] | UI_SPEC Â§5.3 |
| å…³é—­é€šé“ä¸æ˜¾ç¤ºè¶‹åŠ¿ | [ ] | UI_SPEC Â§5.3 |
| NIRS è¶‹åŠ¿æ¸²æŸ“ (Color: #29B6F6) | [ ] | Dev Plan Â§3.4 |

### Sprint 6.2: VideoPanel (è§†é¢‘é¢„è§ˆé¢æ¿)

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| åˆ›å»º Views/Controls/VideoPanel.xaml | [ ] | å³ä¾§è§†é¢‘é¢„è§ˆåŒº |
| æ·»åŠ é¡¹ç›®å¼•ç”¨: Neo.Video | [ ] | |
| USB æ‘„åƒå¤´å®æ—¶é¢„è§ˆ | [ ] | UI_SPEC Â§5.4 |
| ä¿æŒåŸå§‹æ¯”ä¾‹ | [ ] | UI_SPEC Â§5.4 |
| å›æ”¾åŒæ­¥ (Â±1 ç§’) | [ ] | UI_SPEC Â§5.4 |
| æ— æ‘„åƒå¤´æ—¶å ä½æç¤º | [ ] | UI_SPEC Â§5.4 |

### Sprint 6.3: è´¨é‡æŒ‡ç¤º UI è¦†ç›–å±‚

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| æ³¢å½¢åŒºè´¨é‡çŠ¶æ€è§†è§‰åé¦ˆ | [ ] | ç»“åˆ Sprint 3.6 æ¸²æŸ“å±‚ |
| StatusBar è®¾å¤‡è¿æ¥çŠ¶æ€å®æ—¶æ›´æ–° | [ ] | UI_SPEC Â§8 |
| è®¾å¤‡æ–­å¼€ UI ä¸å´©æºƒ | [ ] | UI_SPEC Â§11 |
| å®¡è®¡: DEVICE_DISCONNECT | [ ] | UI_SPEC Â§10 |

---

## ä¹ã€Phase 7 â€” æµ‹è¯•ä¸ä¼˜åŒ– âšª æœªå¼€å§‹

> **ç›®æ ‡**: æ€§èƒ½ä¼˜åŒ–ã€å…¨é¢æµ‹è¯•ã€è§¦æ§éªŒè¯ã€é•¿æ—¶é—´ç¨³å®šæ€§ã€‚

### Sprint 7.1: æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| æ¸²æŸ“å¸§ç‡ â‰¥60fps ç¨³å®š (å…¨é€šé“) | [ ] | UI_SPEC Â§11 |
| æ¸²æŸ“å›è°ƒ O(1) éªŒè¯ | [ ] | CHARTER R-01 |
| æ— æ¯å¸§èµ„æºåˆ›å»ºéªŒè¯ | [ ] | CHARTER R-03 |
| GPU èµ„æºæ³„æ¼æ£€æŸ¥ | [ ] | |
| LOD æŸ¥è¯¢ <10ms éªŒè¯ | [ ] | |

### Sprint 7.2: å…¨é¢æµ‹è¯•è¦†ç›–

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| ViewModel å•å…ƒæµ‹è¯• (æ‰€æœ‰ VM) | [ ] | |
| Service å•å…ƒæµ‹è¯• (Navigation/Dialog/Audit) | [ ] | |
| å¯¹è¯æ¡†äº¤äº’æµ‹è¯• | [ ] | |
| æ¸²æŸ“é›†æˆæµ‹è¯• | [ ] | |
| æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š | [ ] | |

### Sprint 7.3: è§¦æ§éªŒè¯

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| æ‰€æœ‰æŒ‰é’® â‰¥44Ã—44px | [ ] | UI_SPEC Â§13 |
| å¯¼èˆªæŒ‰é’® 60Ã—60px | [ ] | Dev Plan Â§7.1 |
| SeekBar æ»‘å— â‰¥20Ã—20px | [ ] | Dev Plan Â§7.1 |
| æŒ‰é’®é—´è· â‰¥8px | [ ] | Dev Plan Â§7.2 |
| è¡¨å•é¡¹é—´è· â‰¥16px | [ ] | Dev Plan Â§7.2 |
| ç‚¹å‡»åé¦ˆ <100ms | [ ] | Dev Plan Â§7.3 |

### Sprint 7.4: 72h ç¨³å®šæ€§æµ‹è¯•

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| 72h è¿ç»­è¿è¡Œæ— å´©æºƒ | [ ] | UI_SPEC Â§11 |
| å†…å­˜æ— æŒç»­å¢é•¿ (<5% æ¼‚ç§») | [ ] | UI_SPEC Â§11 |
| è®¾å¤‡æ–­å¼€æ¢å¤æµ‹è¯• | [ ] | UI_SPEC Â§11 |
| DeviceLost æ¢å¤æµ‹è¯• | [ ] | |
| æœ€ç»ˆéªŒæ”¶æŠ¥å‘Š | [ ] | |

---

## åã€Phase å‡†å…¥æ¡ä»¶

### Phase 1 â†’ Phase 2

| æ¡ä»¶ | çŠ¶æ€ |
|------|------|
| Neo.UI é¡¹ç›®å¯ç¼–è¯‘è¿è¡Œ | âœ… |
| MVVM åŸºç¡€è®¾æ–½å°±ç»ª | âœ… |
| æ ·å¼ç³»ç»Ÿå°±ç»ª (é›¶ç¡¬ç¼–ç ) | âœ… |
| D3DImageRenderer éªŒè¯é€šè¿‡ | âœ… |
| Sprint 1.1~1.4 å…¨éƒ¨å®Œæˆ | âœ… |
| æ—  Blocked äº‹é¡¹ | âœ… |
| **äººå·¥ç¡®è®¤** | âœ… |

### Phase 2 â†’ Phase 3

| æ¡ä»¶ | çŠ¶æ€ |
|------|------|
| å·¥å…·æ /å¯¼èˆª/çŠ¶æ€æ /å‚æ•°é¢æ¿ ç‹¬ç«‹ UserControl | âœ… |
| MainWindow é‡æ„å®Œæˆ | âœ… |
| æ‰€æœ‰ ViewModel ç»‘å®šæ­£å¸¸ | âœ… |

### Phase 3 â†’ Phase 4

| æ¡ä»¶ | çŠ¶æ€ |
|------|------|
| EEG/aEEG æ³¢å½¢å¯æ¸²æŸ“æ˜¾ç¤º | âœ… |
| SeekBar æ—¶é—´è½´å¯äº¤äº’ | âš ï¸ å»¶åè‡³ Phase 5 |
| è´¨é‡æŒ‡ç¤ºå¯è§†åŒ–å°±ç»ª | âœ… |
| Neo.Rendering/DSP/Playback é›†æˆ | âœ… |
| å¢ç›Š/é€šé“/æ—¶é—´çª— UIâ†”æ¸²æŸ“å™¨ç»‘å®š | âœ… |
| Play/Pauseâ†”PlaybackClock ç»‘å®š | âœ… |
| Sprint 3.1~3.6 å…¨éƒ¨å®Œæˆ | âœ… |
| **äººå·¥ç¡®è®¤** | [ ] |

### Phase 4 â†’ Phase 5

| æ¡ä»¶ | çŠ¶æ€ |
|------|------|
| 7 ä¸ªå¯¹è¯æ¡†å…¨éƒ¨å®ç° | [ ] |
| DialogService å®Œæ•´æ›¿æ¢ Stub | âœ… |
| Sprint 4.1~4.7 å…¨éƒ¨å®Œæˆ | [ ] |

### Phase 5 â†’ Phase 6

| æ¡ä»¶ | çŠ¶æ€ |
|------|------|
| æˆªå›¾/æ‰“å°/å¯¼å‡º UI å¯ç”¨ | [ ] |
| æ ‡æ³¨åŠŸèƒ½å¯ç”¨ | [ ] |
| Sprint 5.1~5.5 å…¨éƒ¨å®Œæˆ | [ ] |

### Phase 6 â†’ Phase 7

| æ¡ä»¶ | çŠ¶æ€ |
|------|------|
| NIRS 6 é€šé“é¢æ¿å°±ç»ª | [ ] |
| è§†é¢‘é¢„è§ˆé¢æ¿å°±ç»ª | [ ] |
| Sprint 6.1~6.3 å…¨éƒ¨å®Œæˆ | [ ] |

---

## åä¸€ã€é˜»å¡äº‹é¡¹

```
ğŸŸ¢ å½“å‰æ— é˜»å¡
```

---

## åäºŒã€å†³ç­–è®°å½•

| æ—¥æœŸ | å†³ç­– | ç†ç”± |
|------|------|------|
| 2026-01-30 | ä½¿ç”¨ WPF | MVVM æ”¯æŒã€æ•°æ®ç»‘å®šæ›´å¼º |
| 2026-01-30 | ä½¿ç”¨ D3DImage | ä¸ WPF æ¸²æŸ“æ ‘èåˆ |
| 2026-01-30 | ä½¿ç”¨ CommunityToolkit.Mvvm 8.2.2 | å¾®è½¯å®˜æ–¹ã€è½»é‡ |
| 2026-01-30 | UI_SPEC v1.1â†’v1.2 å¯¹é½ | å¸ƒå±€å°ºå¯¸/é»˜è®¤å‚æ•°è¡¥é½ |
| 2026-01-31 | Vortice 3.8.1 (D3D11/D2D/DXGI) | D3DImage WPF é›†æˆ |

---

## åä¸‰ã€å·²å®Œæˆå†å²è®°å½•

<details>
<summary>Sprint 1.1~1.4 è¯¦ç»†ä¿®å¤å†å²ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>

```
[2026-01-30] Sprint 1.1: é¡¹ç›®åˆ›å»º
  Neo.UI WPF é¡¹ç›®, App.xaml, MainWindow.xaml å…¨åŒºåŸŸå ä½
  0 errors, 0 warnings

[2026-01-30] S3-UI-01-REBASE: UI_SPEC v1.1â†’v1.2 å¯¹é½
  7 é¡¹ä¿®æ­£ (MinWidthÃ—2, QualityOverlay, Â§å¼•ç”¨Ã—4)

[2026-01-30] S3-UI-02: ä¸»ç•Œé¢é™æ€å¸ƒå±€
  aEEG/EEG æ—¶é—´æ ‡ç­¾, NIRS 6 é€šé“å ä½, Video Preview æ ‡è¯†

[2026-01-30] Sprint 1.2: MVVM åŸºç¡€è®¾æ–½
  ViewModelBase, Navigation, Dialog(stub), Audit, DI, 21 tests

[2026-01-30] Sprint 1.2-fix: å®¡è®¡ä¿®å¤
  ContentControl å¯¼èˆª, å®¡è®¡è°ƒç”¨ç‚¹, æµ‹è¯•å·¥ç¨‹

[2026-01-30] Sprint 1.3: æ ·å¼ç³»ç»Ÿ
  Colors/Fonts/Buttons/TextBoxes/ComboBoxes/Toggles + App.xaml åˆå¹¶

[2026-01-30] Sprint 1.3 è¿½åŠ : Dimensions + Controls + QualityStates

[2026-01-30] Sprint 1.3-fix: 80+ å¤„ç¡¬ç¼–ç é¢œè‰²/å°ºå¯¸ä¿®å¤
  +7 Color, +11 Brush, +4 FontSize

[2026-01-30] Sprint 1.3-fix2: æ ·å¼æ–‡ä»¶æ®‹ç•™ç¡¬ç¼–ç ä¿®å¤
  Toggles/TextBoxes/ComboBoxes/Buttons/Controls/QualityStates

[2026-01-30] Sprint 1.3-fix3: Padding/Margin/CornerRadius/Color ä¿®å¤
  +Color.Shadow, +CornerRadius/Thickness/Double èµ„æº

[2026-01-31] Sprint 1.4: D3DImage æ¸²æŸ“éªŒè¯
  D3D11+D2D+D3D9Ex, Vortice 3.8.1, 60fps, Resize, Dispose, DeviceLost
  docs/ui/Sprint1.4_RenderValidation.md

[2026-02-02] Sprint 1.4-fix: å®¡è®¡ä¿®å¤
  ç§»é™¤æ–‡æ¡£åŒ»å­¦æœ¯è¯­, ç§»é™¤ D3DImageRenderer ç¡¬ç¼–ç å›é€€é¢œè‰²

[2026-02-02] Sprint 2.1: ToolbarPanel å·¥å…·æ æå–
  ToolbarPanel.xaml/cs UserControl, ToolbarViewModel (clock+commands+audit)
  MainWindow.xaml å†…è”å·¥å…·æ æ›¿æ¢ä¸º <controls:ToolbarPanel/>
  MainWindowViewModel æ·»åŠ  Toolbar å±æ€§, App.xaml.cs æ³¨å…¥
  8 æ–°æµ‹è¯•, 29/29 tests pass, 0 errors 0 warnings

[2026-02-02] Sprint 2.2: NavPanel å¯¼èˆªé¢æ¿æå–
  NavPanel.xaml/cs UserControl, 7 æŒ‰é’® + ActiveRoute é«˜äº® (DataTrigger)
  MainWindow.xaml å†…è”å¯¼èˆªæ›¿æ¢ä¸º <controls:NavPanel/>
  Dimensions.xaml æ–°å¢ 5 ä¸ªå¯¼èˆªä¸“ç”¨èµ„æº, é›¶ç¡¬ç¼–ç å°ºå¯¸
  æ²¿ç”¨ MainWindowViewModel å·²æœ‰å‘½ä»¤ (NavigateCommand/Dialog/Shutdown)
  å®¡è®¡: Â§10 æ—  NAVIGATION ç±»å‹, å¯¼èˆªéå…³é”®æ“ä½œ, ä¸å®¡è®¡
  11 æ–°æµ‹è¯• (NavPanelTests), 40/40 tests pass, 0 errors 0 warnings

[2026-02-02] Sprint 2.3: StatusBarPanel çŠ¶æ€æ æå–
  StatusBarPanel.xaml/cs UserControl, StatusViewModel (FPS/å­˜å‚¨/è®¾å¤‡/æ—¶é—´)
  MainWindow.xaml å†…è”çŠ¶æ€æ æ›¿æ¢ä¸º <controls:StatusBarPanel/>
  Dimensions.xaml æ–°å¢ 6 ä¸ªçŠ¶æ€æ ä¸“ç”¨èµ„æº, é›¶ç¡¬ç¼–ç å°ºå¯¸
  è®¾å¤‡è¿æ¥æŒ‡ç¤ºå™¨ DataTrigger: DeviceInactiveBrush/DeviceActiveBrush
  å•è°ƒæ—¶é’Ÿ (Stopwatch + DateTimeOffset é”šç‚¹)
  10 æ–°æµ‹è¯• (StatusViewModelTests), 68/68 tests pass, 0 errors 0 warnings

[2026-02-02] Sprint 2.4: ChannelControlPanel å‚æ•°é¢æ¿æå–
  ChannelControlPanel.xaml/cs UserControl, WaveformViewModel
  MainWindow.xaml å†…è”å‚æ•°é¢æ¿æ›¿æ¢ä¸º <controls:ChannelControlPanel/>
  Dimensions.xaml æ–°å¢ 6 ä¸ªå‚æ•°é¢æ¿ä¸“ç”¨èµ„æº, é›¶ç¡¬ç¼–ç å°ºå¯¸
  å¢ç›Š/æ»¤æ³¢å‚æ•°å˜æ›´è‡ªåŠ¨å®¡è®¡ (GAIN_CHANGE/FILTER_CHANGE)
  18 æ–°æµ‹è¯• (WaveformViewModelTests), 68/68 tests pass

[2026-02-02] Sprint 2.5: MainWindow é‡æ„ + é›†æˆ
  ç§»é™¤ Sprint 1.4 æ¸²æŸ“æµ‹è¯•ä»£ç  (D3DImageRenderer/OnRenderFrame/RenderTestImage)
  MainWindow.xaml.cs ç®€åŒ–ä¸º InitializeComponent()
  MainWindow.xaml 4 ä¸ª UserControl æ›¿æ¢å®Œæˆ
  App.xaml.cs æ³¨å…¥ ToolbarViewModel + StatusViewModel + WaveformViewModel
  æ„å»º 0 errors 0 warnings, 68/68 tests pass

[2026-02-04] Sprint 3.1: WaveformPanel + D3DImageRenderer é›†æˆ
  WaveformPanel.xaml/cs UserControl (D3D â†’ WriteableBitmap â†’ WPF Image)
  D3DImageRenderer å‡çº§ ID2D1DeviceContext
  WaveformRenderHost æ¸²æŸ“æ¡¥æ¥ (CompositionTarget.Rendering 60fps)
  WaveformLayout 6 åŒºåŸŸå¸ƒå±€ (aEEGÃ—2 + EEGÃ—2 + NIRS + SeekBar)
  Device Lost æ¢å¤ UI (ErrorOverlay + åŒå‡»æ¨¡æ‹Ÿ)
  MainWindow.xaml é›†æˆ WaveformPanel (ActiveRoute å¯è§æ€§ç»‘å®š)

[2026-02-04] Sprint 3.2: EegDataBridge + MockEegSource æ•°æ®æ¥å…¥
  EegDataBridge æ‰«ææ¨¡å¼ (å·¦åˆ°å³, 15s å‘¨æœŸ, æ¸…é™¤å¸¦)
  MockEegSource 160Hz 4 é€šé“æ¥å…¥
  SweepChannelData é›¶æ‹·è´æ•°æ®ä¼ é€’
  EegDataBridgeTests 23 tests, WaveformRenderHostTests 17 tests

[2026-02-04] Sprint 3.3: SweepModeRenderer EEG æ³¢å½¢æ¸²æŸ“
  SweepModeRenderer per-channel RenderChannel (æ›¿ä»£ EegPolylineRenderer)
  EegColorPalette 4 é€šé“é¢œè‰²
  Â±200Î¼V Y è½´æ˜ å°„, ä¸‹é‡‡æ ·æ€§èƒ½ä¼˜åŒ–
  æ‰«æçº¿ (é»„è‰²) + æ¸…é™¤å¸¦ (æš—è‰²)

[2026-02-04] Sprint 3.4: aEEG è¶‹åŠ¿æ¸²æŸ“
  AeegTrendRenderer + AeegSeriesBuilder + AeegGridAndAxisRenderer
  AeegSemiLogMapper åŠå¯¹æ•° Y è½´ (0-10Î¼V çº¿æ€§, 10-200Î¼V å¯¹æ•°)
  GsHistogramRenderer ç›´æ–¹å›¾ (70%/30% è¶‹åŠ¿/ç›´æ–¹å›¾å¸ƒå±€)
  LOD é‡‘å­—å¡”æŸ¥è¯¢, 3h é»˜è®¤å¯è§èŒƒå›´

[2026-02-04] Sprint 3.5: SeekBar æ—¶é—´è½´
  SeekBarRenderer D2D æ¸²æŸ“ (è½¨é“+å¡«å……+æ‰‹æŸ„+æ—¶é—´æ ‡ç­¾)
  PlaybackClock é›†æˆ, é¼ æ ‡æ‹–åŠ¨/ç‚¹å‡» Seek
  TrySetSeekFromPoint äº¤äº’é€»è¾‘

[2026-02-04] Sprint 3.6: è´¨é‡æŒ‡ç¤ºæ¸²æŸ“
  QualityIndicatorRenderer (Missing/Saturated/LeadOff è¦†ç›–å±‚)
  EegDataBridge O(1) è´¨é‡è®¡æ•°å™¨ (AddQualityCounts/RemoveQualityCounts)
  GetQualitySummary() é›†æˆåˆ°æ¸²æŸ“å¾ªç¯
  æ„å»º 0 errors, 103/103 tests pass

[2026-02-05] Phase 3 å®Œæˆ: 10 é¡¹å‰©ä½™ç»‘å®šè¡¥é½
  AeegColorPalette.TrendFill æ”¹ä¸ºç»¿è‰² #00E676 40%
  WaveformRenderHost æ·»åŠ  IAuditService, GainMicrovoltsPerCm, YAxisRangeUv, AeegVisibleHours, PlaybackClock
  SweepModeRenderer.RenderChannel æ¥å— yAxisRangeUv å‚æ•°
  WaveformPanel æ¡¥æ¥ ViewModel â†’ RenderHost (PropertyChanged è®¢é˜…)
  WaveformViewModel æ·»åŠ  CycleGain/CycleYAxis/CycleAeegTimeWindow/CycleLeadCombination å‘½ä»¤
  ChannelControlPanel.xaml å¢ç›Š/Yè½´/aEEGæ—¶é—´çª—/å¯¼è” æ”¹ä¸ºå¯ç‚¹å‡»æŒ‰é’®
  TrySetSeekFromPoint æ·»åŠ  SEEK å®¡è®¡æ—¥å¿—
  INirsPlaybackSource æ¥å£ + MultiStreamCoordinator NIRS é›†æˆ
  æµ‹è¯•: 122/122 UI.Tests, 322/322 Rendering.Tests, 44/44 Playback.Tests
```

</details>

---

## åå››ã€æäº¤å‰è‡ªæŸ¥æ¸…å• (Audit Pre-Check)

> **ç›®çš„**: æ¯ä¸ª Sprint/Phase æäº¤å®¡æŸ¥å‰ï¼ŒAgent å¿…é¡»é€é¡¹è‡ªæŸ¥ï¼Œé¿å…åå¤ FAILã€‚

### A. é›¶ç¡¬ç¼–ç æ£€æŸ¥

åœ¨æ‰€æœ‰æ–°å»º/ä¿®æ”¹çš„ XAML æ–‡ä»¶ä¸­ï¼Œæœç´¢ä»¥ä¸‹ç¡¬ç¼–ç æ¨¡å¼ï¼š

| æ£€æŸ¥é¡¹ | ç¦æ­¢å€¼ | æ­£ç¡®åšæ³• |
|--------|--------|----------|
| Margin | `Margin="8,0"` ç­‰æ•°å­— | `Margin="{StaticResource Dim.XxxMargin}"` |
| Width/Height | `Width="10"` ç­‰æ•°å­— | `Width="{StaticResource Dim.Xxx}"` |
| BorderThickness | `BorderThickness="1,0,0,0"` | `BorderThickness="{StaticResource Dim.XxxThickness}"` |
| CornerRadius | `CornerRadius="4"` | `CornerRadius="{StaticResource Dim.XxxRadius}"` |
| Padding | `Padding="8,4"` | `Padding="{StaticResource Dim.XxxPadding}"` |
| Background="Transparent" | å­—é¢ `Transparent` | `{StaticResource TransparentBrush}` |
| åå…­è¿›åˆ¶é¢œè‰² | `#FF0000` | `{StaticResource XxxBrush}` |
| FontSize æ•°å­— | `FontSize="12"` | `FontSize="{StaticResource FontSize.Xxx}"` |

### B. å®¡è®¡åˆè§„æ£€æŸ¥

| æ£€æŸ¥é¡¹ | è§„åˆ™ |
|--------|------|
| äº‹ä»¶ç±»å‹ | åªä½¿ç”¨ AuditEventTypes ä¸­å·²æœ‰çš„ 10 ç§ (UI_SPEC Â§10) |
| ä¸å¯æ–°é€ äº‹ä»¶ç±»å‹ | ç¦æ­¢æ–°å¢ AuditEventTypes å¸¸é‡ |
| å®¡è®¡è°ƒç”¨ç‚¹ | ä»…åœ¨"å…³é”®æ“ä½œ"ï¼ˆå½±å“æ‚£è€…æ•°æ®/ç›‘æ§çŠ¶æ€/ä¸´åºŠç»“æœï¼‰å¤„å®¡è®¡ |

### C. æ—¶é’Ÿåˆè§„æ£€æŸ¥

| æ£€æŸ¥é¡¹ | è§„åˆ™ |
|--------|------|
| DateTime.Now | ç¦æ­¢ç›´æ¥ä½¿ç”¨ï¼Œå¿…é¡»é€šè¿‡ Stopwatch + UTC é”šç‚¹æ´¾ç”Ÿ |
| DispatcherTimer | æœ‰ StopTimer()/StopClock() ä¾›æµ‹è¯•è°ƒç”¨ |

### D. å°ºå¯¸èµ„æºå¯è¿½æº¯

| æ£€æŸ¥é¡¹ | è§„åˆ™ |
|--------|------|
| æ–°å¢ Dim.* èµ„æº | å¿…é¡»å†™åœ¨ Dimensions.xaml ä¸­ï¼Œæ³¨é‡Šæ ‡æ³¨ Sprint æ¥æº |
| æ•°å€¼æ¥æº | æ³¨é‡Šä¸­æ ‡æ³¨ UI_SPEC / Dev Plan çš„å…·ä½“ç« èŠ‚å· |

### E. æ„å»º + æµ‹è¯•

```
dotnet build src/UI/Neo.UI.csproj  â†’ 0 errors 0 warnings
dotnet test tests/UI.Tests          â†’ N/N pass
```

### F. æ‰¹é‡æ‰§è¡Œæ¨¡å¼

å½“ä¸€ä¸ª Phase åŒ…å«å¤šä¸ª Sprint æ—¶ï¼Œå¯æ‰¹é‡æ‰§è¡Œï¼š
1. æŒ‰é¡ºåºå®ç°æ‰€æœ‰ Sprint çš„ä»£ç å˜æ›´
2. æ‰§è¡Œä¸€æ¬¡æ€»æ„å»º + å…¨é‡æµ‹è¯•
3. å¯¹æ¯ä¸ªæ–°å»º XAML æ–‡ä»¶è¿è¡Œè‡ªæŸ¥æ¸…å• A~D
4. ä¸€æ¬¡æ€§æ›´æ–° PROJECT_STATEUI.md ä¸­æ‰€æœ‰ Sprint çŠ¶æ€

---

## åäº”ã€Agent æ‰§è¡ŒæŒ‡ä»¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– Agent æ¯æ¬¡å¯åŠ¨æ—¶å¿…é¡»:                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. åªè¯»å–ä»¥ä¸‹æ–‡ä»¶:                                             â”‚
â”‚     â€¢ spec/CHARTER.md                                           â”‚
â”‚     â€¢ spec/UI_SPEC.md                                           â”‚
â”‚     â€¢ PROJECT_STATEUI.md (æœ¬æ–‡ä»¶)                               â”‚
â”‚     â€¢ NEO_UI_Development_Plan_WPF.md                            â”‚
â”‚     â€¢ spec/ACCEPTANCE_TESTS.md                                  â”‚
â”‚                                                                 â”‚
â”‚  2. ä»ã€ŒäºŒã€å½“å‰ä»»åŠ¡ã€å¼€å§‹æ‰§è¡Œ                                  â”‚
â”‚                                                                 â”‚
â”‚  3. å®Œæˆåæ›´æ–°æœ¬æ–‡ä»¶:                                           â”‚
â”‚     â€¢ æ ‡è®° âœ…                                                   â”‚
â”‚     â€¢ æ›´æ–°å½“å‰ä»»åŠ¡æŒ‡å‘ä¸‹ä¸€ Sprint                               â”‚
â”‚     â€¢ æ›´æ–°é˜¶æ®µæ€»è§ˆçŠ¶æ€                                          â”‚
â”‚                                                                 â”‚
â”‚  4. é‡åˆ°é˜»å¡æ›´æ–°ã€Œåä¸€ã€é˜»å¡äº‹é¡¹ã€å¹¶åœæ­¢                       â”‚
â”‚                                                                 â”‚
â”‚  â›” ç¦æ­¢:                                                       â”‚
â”‚  â€¢ è·³è¿‡å½“å‰ä»»åŠ¡                                                 â”‚
â”‚  â€¢ ä¾èµ–èŠå¤©å†å²                                                 â”‚
â”‚  â€¢ åˆ›å»ºæ–‡ä»¶åå˜ä½“                                               â”‚
â”‚  â€¢ ä¸æ›´æ–°æœ¬æ–‡ä»¶å°±åšä¸‹ä¸€ä»»åŠ¡                                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## é™„å½•ï¼šExecution Trackï¼ˆå†å²æ‰§è¡Œæ—¥å¿—ï¼Œéè¿›åº¦é”šç‚¹ï¼‰
- Stage A (Top/Left/Parameter): completed.
- Build: dotnet build src/UI/Neo.UI.csproj -> passed (0 errors, 0 warnings).
- Test: dotnet test tests/UI.Tests/Neo.UI.Tests.csproj -> passed (122/122).
- Stage B (Video/NIRS panels): completed.
- Build: dotnet build src/UI/Neo.UI.csproj -> passed (0 errors, 0 warnings).
- Test: dotnet test tests/UI.Tests/Neo.UI.Tests.csproj -> passed (132/132).
- Stage C (Dialogs/DialogService): completed.
- Build: dotnet build src/UI/Neo.UI.csproj -> passed (0 errors, 0 warnings).
- Test: dotnet test tests/UI.Tests/Neo.UI.Tests.csproj -> passed (138/138).
- Stage D (integration/acceptance): completed.
- Build: dotnet build src/UI/Neo.UI.csproj -> passed (0 errors, 0 warnings).
- Test: dotnet test tests/UI.Tests/Neo.UI.Tests.csproj -> passed (141/141).
- Post-stage integration (Video/NIRS runtime adapters): completed.
- Build: dotnet build src/UI/Neo.UI.csproj -> passed (0 errors, 0 warnings).
- Test: dotnet test tests/UI.Tests/Neo.UI.Tests.csproj -> passed (146/146).
- Continue pass (NIRS simulated fallback stream): completed.
- Build: dotnet build src/UI/Neo.UI.csproj -> passed (0 errors, 0 warnings).
- Test: dotnet test tests/UI.Tests/Neo.UI.Tests.csproj -> passed (148/148).
- Waveform realism tuning (clinical-like mock shaping): completed.
- Build: dotnet build src/UI/Neo.UI.csproj -> passed (0 errors, 0 warnings).
- Test: dotnet test tests/UI.Tests/Neo.UI.Tests.csproj -> passed (149/149).
- Waveform realism tuning (burst/suppression/spike shaping): completed.
- Build: dotnet build src/UI/Neo.UI.csproj -> passed with warnings (Neo.UI.exe locked by running app).
- Test: dotnet test tests/UI.Tests/Neo.UI.Tests.csproj -> passed (149/149).
- Waveform visual consistency (dark aEEG/EEG grid/time axis/GS layout): completed.
- Build: dotnet build src/UI/Neo.UI.csproj -> passed (0 errors, 0 warnings).
- Test: dotnet test tests/UI.Tests/Neo.UI.Tests.csproj -> passed (149/149).

---

**æ–‡æ¡£ç»“æŸ**
