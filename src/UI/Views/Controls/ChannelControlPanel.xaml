<UserControl x:Class="Neo.UI.Views.Controls.ChannelControlPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Border Width="{StaticResource Dim.ParamPanelMinWidth}"
            MinWidth="{StaticResource Dim.ParamPanelMinWidth}"
            Background="{DynamicResource BackgroundBrush}"
            BorderBrush="{DynamicResource BorderBrush}"
            BorderThickness="{StaticResource Dim.ParamBorderThickness}">
        <ScrollViewer VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled"
                      CanContentScroll="True">
            <StackPanel Margin="{StaticResource Dim.ParamPanelMargin}">
                <TextBlock Text="通道参数"
                           Foreground="{DynamicResource TextDarkSecondaryBrush}"
                           FontSize="{StaticResource FontSize.ParamValue}"
                           FontWeight="SemiBold"/>
                <TextBlock Text="点击分组标题可显示/隐藏调整项"
                           Foreground="{DynamicResource TextDarkTertiaryBrush}"
                           FontSize="{StaticResource FontSize.Caption}"
                           Margin="0,2,0,8"/>

                <Expander Header="EEG-1 / aEEG-1"
                          IsExpanded="True"
                          Margin="0,0,0,8">
                    <StackPanel Margin="0,8,0,4">
                        <TextBlock Text="通道选择"
                                   Foreground="{DynamicResource TextDarkSecondaryBrush}"
                                   FontSize="{StaticResource FontSize.Caption}"
                                   Margin="6,0,0,2"/>
                        <ComboBox Style="{StaticResource ParamComboBoxStyle}"
                                  ItemContainerStyle="{StaticResource ParamComboBoxItemStyle}"
                                  ItemsSource="{Binding SourceOptions}"
                                  SelectedItem="{Binding Eeg1Source, Mode=TwoWay}">
                            <ComboBox.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Label}"
                                               Foreground="{DynamicResource TextOnDarkBrush}"/>
                                </DataTemplate>
                            </ComboBox.ItemTemplate>
                        </ComboBox>

                        <TextBlock Text="增益"
                                   Foreground="{DynamicResource TextDarkSecondaryBrush}"
                                   FontSize="{StaticResource FontSize.Caption}"
                                   Margin="6,8,0,2"/>
                        <ComboBox Style="{StaticResource ParamComboBoxStyle}"
                                  ItemContainerStyle="{StaticResource ParamComboBoxItemStyle}"
                                  ItemsSource="{Binding GainOptions}"
                                  SelectedItem="{Binding Eeg1Gain, Mode=TwoWay}">
                            <ComboBox.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding StringFormat={}{0} uV/cm}"
                                               Foreground="{DynamicResource TextOnDarkBrush}"/>
                                </DataTemplate>
                            </ComboBox.ItemTemplate>
                        </ComboBox>

                        <TextBlock Text="范围"
                                   Foreground="{DynamicResource TextDarkSecondaryBrush}"
                                   FontSize="{StaticResource FontSize.Caption}"
                                   Margin="6,8,0,2"/>
                        <ComboBox Style="{StaticResource ParamComboBoxStyle}"
                                  ItemContainerStyle="{StaticResource ParamComboBoxItemStyle}"
                                  ItemsSource="{Binding YAxisOptions}"
                                  SelectedItem="{Binding Eeg1Range, Mode=TwoWay}">
                            <ComboBox.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding StringFormat={}+/-{0} uV}"
                                               Foreground="{DynamicResource TextOnDarkBrush}"/>
                                </DataTemplate>
                            </ComboBox.ItemTemplate>
                        </ComboBox>
                    </StackPanel>
                </Expander>

                <Expander Header="EEG-2 / aEEG-2"
                          IsExpanded="False"
                          Margin="0,0,0,8">
                    <StackPanel Margin="0,8,0,4">
                        <TextBlock Text="通道选择"
                                   Foreground="{DynamicResource TextDarkSecondaryBrush}"
                                   FontSize="{StaticResource FontSize.Caption}"
                                   Margin="6,0,0,2"/>
                        <ComboBox Style="{StaticResource ParamComboBoxStyle}"
                                  ItemContainerStyle="{StaticResource ParamComboBoxItemStyle}"
                                  ItemsSource="{Binding SourceOptions}"
                                  SelectedItem="{Binding Eeg2Source, Mode=TwoWay}">
                            <ComboBox.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Label}"
                                               Foreground="{DynamicResource TextOnDarkBrush}"/>
                                </DataTemplate>
                            </ComboBox.ItemTemplate>
                        </ComboBox>

                        <TextBlock Text="增益"
                                   Foreground="{DynamicResource TextDarkSecondaryBrush}"
                                   FontSize="{StaticResource FontSize.Caption}"
                                   Margin="6,8,0,2"/>
                        <ComboBox Style="{StaticResource ParamComboBoxStyle}"
                                  ItemContainerStyle="{StaticResource ParamComboBoxItemStyle}"
                                  ItemsSource="{Binding GainOptions}"
                                  SelectedItem="{Binding Eeg2Gain, Mode=TwoWay}">
                            <ComboBox.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding StringFormat={}{0} uV/cm}"
                                               Foreground="{DynamicResource TextOnDarkBrush}"/>
                                </DataTemplate>
                            </ComboBox.ItemTemplate>
                        </ComboBox>

                        <TextBlock Text="范围"
                                   Foreground="{DynamicResource TextDarkSecondaryBrush}"
                                   FontSize="{StaticResource FontSize.Caption}"
                                   Margin="6,8,0,2"/>
                        <ComboBox Style="{StaticResource ParamComboBoxStyle}"
                                  ItemContainerStyle="{StaticResource ParamComboBoxItemStyle}"
                                  ItemsSource="{Binding YAxisOptions}"
                                  SelectedItem="{Binding Eeg2Range, Mode=TwoWay}">
                            <ComboBox.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding StringFormat={}+/-{0} uV}"
                                               Foreground="{DynamicResource TextOnDarkBrush}"/>
                                </DataTemplate>
                            </ComboBox.ItemTemplate>
                        </ComboBox>
                    </StackPanel>
                </Expander>

                <Expander Header="全局参数（可选）"
                          IsExpanded="False"
                          Margin="0,0,0,8">
                    <StackPanel Margin="0,8,0,4">
                        <TextBlock Text="{Binding HpfDisplay}"
                                   Foreground="{DynamicResource TextOnDarkBrush}"
                                   FontSize="{StaticResource FontSize.StatusBar}"
                                   Margin="{StaticResource Dim.ParamValueMargin}"/>
                        <TextBlock Text="{Binding LpfDisplay}"
                                   Foreground="{DynamicResource TextOnDarkBrush}"
                                   FontSize="{StaticResource FontSize.StatusBar}"
                                   Margin="{StaticResource Dim.ParamValueMargin}"/>
                        <TextBlock Text="{Binding NotchDisplay}"
                                   Foreground="{DynamicResource TextOnDarkBrush}"
                                   FontSize="{StaticResource FontSize.StatusBar}"
                                   Margin="{StaticResource Dim.ParamValueMargin}"/>
                        <TextBlock Text="{Binding SweepDisplay}"
                                   Foreground="{DynamicResource TextOnDarkBrush}"
                                   FontSize="{StaticResource FontSize.StatusBar}"
                                   Margin="{StaticResource Dim.ParamValueMargin}"/>

                        <TextBlock Text="aEEG 时间窗"
                                   Foreground="{DynamicResource TextDarkSecondaryBrush}"
                                   FontSize="{StaticResource FontSize.Caption}"
                                   Margin="6,8,0,2"/>
                        <ComboBox Style="{StaticResource ParamComboBoxStyle}"
                                  ItemContainerStyle="{StaticResource ParamComboBoxItemStyle}"
                                  ItemsSource="{Binding AeegTimeWindowOptions}"
                                  SelectedItem="{Binding SelectedAeegHours, Mode=TwoWay}">
                            <ComboBox.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding StringFormat={}{0} h}"
                                               Foreground="{DynamicResource TextOnDarkBrush}"/>
                                </DataTemplate>
                            </ComboBox.ItemTemplate>
                        </ComboBox>

                        <CheckBox Content="显示 GS 直方图"
                                  IsChecked="{Binding ShowGsHistogram, Mode=TwoWay}"
                                  Foreground="{DynamicResource TextOnDarkBrush}"
                                  FontSize="{StaticResource FontSize.StatusBar}"
                                  Margin="{StaticResource Dim.ParamSectionMargin}"
                                  VerticalAlignment="Center"/>
                    </StackPanel>
                </Expander>
            </StackPanel>
        </ScrollViewer>
    </Border>

</UserControl>

