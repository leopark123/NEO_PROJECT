<UserControl x:Class="Neo.UI.Views.Controls.StatusBarPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- Sprint 2.3: Extracted from MainWindow.xaml bottom status bar -->
    <!-- BOTTOM STATUS BAR (30px) — UI_SPEC §8 -->
    <!-- DataContext = StatusViewModel (set by MainWindow binding) -->
    <!-- All sizes/margins from Dimensions.xaml — zero hardcoded values -->

    <Border Height="{StaticResource Dim.StatusBarHeight}"
            Background="{StaticResource BackgroundBrush}"
            BorderBrush="{StaticResource BorderBrush}"
            BorderThickness="{StaticResource Dim.StatusBarBorderThickness}">
        <Grid Margin="{StaticResource Dim.StatusBarGridMargin}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- FPS -->
            <TextBlock Grid.Column="0"
                       Text="{Binding FpsText}"
                       Foreground="{StaticResource TextDarkSecondaryBrush}"
                       FontSize="{StaticResource FontSize.StatusBar}"
                       FontFamily="{StaticResource Font.Mono}"
                       VerticalAlignment="Center"
                       Margin="{StaticResource Dim.StatusItemMargin}"/>

            <!-- Storage -->
            <TextBlock Grid.Column="1"
                       Text="{Binding StorageText}"
                       Foreground="{StaticResource TextDarkSecondaryBrush}"
                       FontSize="{StaticResource FontSize.StatusBar}"
                       FontFamily="{StaticResource Font.Mono}"
                       VerticalAlignment="Center"
                       Margin="{StaticResource Dim.StatusItemMargin}"/>

            <!-- EEG connection -->
            <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center"
                        Margin="{StaticResource Dim.DeviceGroupMargin}">
                <TextBlock Text="EEG:"
                           Foreground="{StaticResource TextDarkSecondaryBrush}"
                           FontSize="{StaticResource FontSize.StatusBar}"
                           VerticalAlignment="Center"
                           Margin="{StaticResource Dim.DeviceLabelMargin}"/>
                <Ellipse Width="{StaticResource Dim.DeviceIndicatorSize}"
                         Height="{StaticResource Dim.DeviceIndicatorSize}"
                         VerticalAlignment="Center">
                    <Ellipse.Style>
                        <Style TargetType="Ellipse">
                            <Setter Property="Fill" Value="{StaticResource DeviceInactiveBrush}"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding EegConnected}" Value="True">
                                    <Setter Property="Fill" Value="{StaticResource SuccessBrush}"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Ellipse.Style>
                </Ellipse>
            </StackPanel>

            <!-- NIRS connection -->
            <StackPanel Grid.Column="3" Orientation="Horizontal" VerticalAlignment="Center"
                        Margin="{StaticResource Dim.DeviceGroupMargin}">
                <TextBlock Text="NIRS:"
                           Foreground="{StaticResource TextDarkSecondaryBrush}"
                           FontSize="{StaticResource FontSize.StatusBar}"
                           VerticalAlignment="Center"
                           Margin="{StaticResource Dim.DeviceLabelMargin}"/>
                <Ellipse Width="{StaticResource Dim.DeviceIndicatorSize}"
                         Height="{StaticResource Dim.DeviceIndicatorSize}"
                         VerticalAlignment="Center">
                    <Ellipse.Style>
                        <Style TargetType="Ellipse">
                            <Setter Property="Fill" Value="{StaticResource DeviceInactiveBrush}"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding NirsConnected}" Value="True">
                                    <Setter Property="Fill" Value="{StaticResource SuccessBrush}"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Ellipse.Style>
                </Ellipse>
            </StackPanel>

            <!-- Video connection -->
            <StackPanel Grid.Column="4" Orientation="Horizontal" VerticalAlignment="Center"
                        Margin="{StaticResource Dim.DeviceGroupMargin}">
                <TextBlock Text="Video:"
                           Foreground="{StaticResource TextDarkSecondaryBrush}"
                           FontSize="{StaticResource FontSize.StatusBar}"
                           VerticalAlignment="Center"
                           Margin="{StaticResource Dim.DeviceLabelMargin}"/>
                <Ellipse Width="{StaticResource Dim.DeviceIndicatorSize}"
                         Height="{StaticResource Dim.DeviceIndicatorSize}"
                         VerticalAlignment="Center">
                    <Ellipse.Style>
                        <Style TargetType="Ellipse">
                            <Setter Property="Fill" Value="{StaticResource DeviceInactiveBrush}"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding VideoConnected}" Value="True">
                                    <Setter Property="Fill" Value="{StaticResource SuccessBrush}"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Ellipse.Style>
                </Ellipse>
            </StackPanel>

            <!-- Spacer -->
            <Border Grid.Column="5"/>

            <!-- Current time -->
            <TextBlock Grid.Column="6"
                       Text="{Binding CurrentTime}"
                       Foreground="{StaticResource TextDarkSecondaryBrush}"
                       FontSize="{StaticResource FontSize.StatusBar}"
                       FontFamily="{StaticResource Font.Mono}"
                       VerticalAlignment="Center"/>
        </Grid>
    </Border>

</UserControl>
